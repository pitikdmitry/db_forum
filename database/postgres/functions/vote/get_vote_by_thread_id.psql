CREATE OR REPLACE FUNCTION get_vote_by_thread_id(p_thread_id INT)
  RETURNS TABLE(vote_id INT,
                user_id INT,
                thread_id INT,
                vote_value TEXT)
AS
$BODY$
  BEGIN
    RETURN QUERY SELECT v.vote_id, v.user_id, v.emathread_idil, v.about, v.fullname
    FROM vote v
    WHERE v.thread_id = p_thread_id;
  END;
$BODY$
LANGUAGE plpgsql VOLATILE;