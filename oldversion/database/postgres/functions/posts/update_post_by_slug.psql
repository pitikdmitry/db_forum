CREATE OR REPLACE FUNCTION update_post(
    p_slug CITEXT,
    p_message TEXT,
    p_title TEXT)
RETURNS void AS
$BODY$
  BEGIN
    UPDATE posts
      SET message = p_message, title = p_title, is_edited = TRUE
      WHERE slug = p_slug;
  END;
$BODY$
LANGUAGE plpgsql VOLATILE;
